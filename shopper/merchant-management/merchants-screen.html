<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merchants Screen | Merchant Management | Saltwyk Design System</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/assets/config/tailwind.config.js"></script>
    <link rel="stylesheet" href="/assets/config/design-tokens.css">
    <link rel="stylesheet" href="/assets/config/view-toggle.css">
    <link rel="stylesheet" href="/assets/config/fullpage-mode.css">
    <script src="/partials/fullpage-mode.js"></script>

    <style>
        .font-display { font-family: 'Fraunces', Georgia, serif; }
        .headline { letter-spacing: -0.02em; }
        .serial { font-weight: 600; font-size: 11px; letter-spacing: 0.12em; text-transform: uppercase; }
        code { font-size: 11px; background: hsl(var(--warm-100)); padding: 2px 6px; border-radius: 4px; font-family: ui-monospace, monospace; }

        /* Fresh Thread Gradient */
        .thread-fresh {
            background: linear-gradient(90deg, hsl(170 100% 50%) 0%, hsl(74 100% 60%) 100%);
        }

        /* Filter Tabs */
        .filter-tab {
            padding-bottom: 12px;
            font-size: 14px;
            font-weight: 500;
            color: hsl(var(--warm-600));
            border-bottom: 2px solid transparent;
            white-space: nowrap;
            transition: all 0.15s ease;
        }
        .filter-tab:hover {
            color: hsl(var(--warm-900));
        }
        .filter-tab-active {
            font-weight: 600;
            color: hsl(var(--indigo-700));
            border-bottom-color: hsl(var(--indigo-500));
        }

        /* Bottom Sheet (Mobile OTP) */
        .bottom-sheet-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 50;
        }
        .bottom-sheet {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-radius: 16px 16px 0 0;
            box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.15);
            z-index: 51;
        }
        .bottom-sheet-handle {
            width: 32px;
            height: 4px;
            background: hsl(var(--warm-300));
            border-radius: 2px;
            margin: 12px auto 8px;
        }

        /* Modal (Desktop OTP) */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
        }
        .modal-content {
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px;
            margin: 16px;
            position: relative;
        }

        /* OTP Input */
        .otp-input {
            width: 48px;
            height: 56px;
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            border: 2px solid hsl(var(--warm-200));
            border-radius: 8px;
            transition: all 0.15s ease;
        }
        .otp-input:focus {
            outline: none;
            border-color: hsl(var(--emerald-500));
            box-shadow: 0 0 0 3px hsla(var(--emerald-500) / 0.2);
        }
        .otp-input-error {
            border-color: hsl(var(--magenta-500));
            background: hsl(var(--magenta-50));
        }
        .otp-input-filled {
            background: hsl(var(--warm-50));
        }

        /* Toast */
        .toast-success {
            position: fixed;
            top: 16px;
            right: 16px;
            background: white;
            border: 1px solid hsl(var(--emerald-200));
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 100;
        }

        /* Autocomplete Dropdown */
        .autocomplete-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            margin-top: 4px;
            background: white;
            border: 1px solid hsl(var(--warm-200));
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 20;
        }
        .autocomplete-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 16px;
            cursor: pointer;
            transition: background 0.1s ease;
        }
        .autocomplete-item:hover {
            background: hsl(var(--warm-50));
        }

        /* Mobile Preview Frame */
        .mobile-frame {
            width: 100%;
            max-width: 375px;
            background: hsl(var(--ledger));
            border-radius: 8px;
            border: 1px solid hsl(var(--warm-200));
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        /* Desktop Preview Frame */
        .desktop-frame {
            width: 100%;
            background: hsl(var(--ledger));
            border-radius: 8px;
            border: 1px solid hsl(var(--warm-200));
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        /* Merchant Card (inline for previews) */
        .merchant-card-preview {
            background: white;
            border: 1px solid hsl(var(--warm-200));
            border-radius: 8px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
            cursor: pointer;
            transition: all 0.15s ease;
        }
        .merchant-card-preview:hover {
            border-color: hsl(var(--indigo-200));
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        /* Battery Indicator (copied from merchant-card) */
        .battery-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .battery-icon {
            position: relative;
            width: 18px;
            height: 10px;
            border: 1.5px solid currentColor;
            border-radius: 2px;
        }
        .battery-icon::after {
            content: '';
            position: absolute;
            right: -4px;
            top: 50%;
            transform: translateY(-50%);
            width: 2px;
            height: 5px;
            background: currentColor;
            border-radius: 0 1px 1px 0;
        }
        .battery-fill {
            position: absolute;
            left: 1px;
            top: 1px;
            bottom: 1px;
            background: currentColor;
            border-radius: 1px;
        }
        .battery-fill.high { width: calc(100% - 2px); }
        .battery-fill.medium { width: 60%; }
        .battery-fill.low { width: 20%; }
    </style>
</head>
<body class="bg-ledger text-ink">
    <div id="top-nav"></div>

    <div class="flex">
        <div id="side-nav"></div>
        <main class="flex-1">
            <div class="h-[3px] w-full thread-fresh"></div>

            <div class="max-w-6xl mx-auto p-8">
                <!-- Breadcrumb -->
                <nav class="flex items-center gap-2 text-sm text-warm-500 mb-8">
                    <a href="../../../index.html" class="hover:text-emerald-600">Design System</a>
                    <span>→</span>
                    <a href="/" class="hover:text-emerald-600">Shopper</a>
                    <span>→</span>
                    <span class="text-warm-500">Merchant Management</span>
                    <span>→</span>
                    <span class="text-ink font-medium">Merchants Screen</span>
                </nav>

                <!-- Page Header -->
                <header class="mb-12">
                    <p class="serial text-intaglio-500 mb-2">Screen Specification</p>
                    <h1 class="font-display text-4xl mb-2">Merchants Screen</h1>
                    <p class="text-warm-600">Complete screen where shoppers discover, connect, and manage merchant rewards accounts. Includes search with autocomplete, filter tabs, merchant cards, empty states, and OTP connection flow.</p>
                </header>

                <!-- View Toggle -->
                <div class="view-toggle-header">
                    <div class="flex items-center justify-between">
                        <p class="text-sm text-warm-500">Preview Mode</p>
                        <div class="flex items-center gap-6">
                            <div class="view-toggle" role="group" aria-label="View mode toggle">
                                <button class="toggle-btn active" data-view="mobile" aria-label="Mobile view" aria-pressed="true" type="button">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="6" y="2" width="12" height="20" rx="2.5"/>
                                        <rect x="10" y="4" width="4" height="1.5" rx="0.75"/>
                                        <line x1="10" y1="19" x2="14" y2="19"/>
                                    </svg>
                                </button>
                                <button class="toggle-btn" data-view="desktop" aria-label="Desktop view" aria-pressed="false" type="button">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="2" y="3" width="20" height="14" rx="2"/>
                                        <line x1="2" y1="14" x2="22" y2="14"/>
                                        <line x1="12" y1="17" x2="12" y2="20"/>
                                        <line x1="8" y1="20" x2="16" y2="20"/>
                                    </svg>
                                </button>
                            </div>
                            <span class="text-warm-300">|</span>
                            <a href="?fullpage&view=desktop" target="_blank" class="text-sm text-warm-500 hover:text-emerald-600 flex items-center gap-1">
                                Full Page
                                <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                                    <polyline points="15 3 21 3 21 9"/>
                                    <line x1="10" y1="14" x2="21" y2="3"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- OVERVIEW -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">Overview</p>
                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                        <p class="text-warm-700 mb-4">
                            The Merchants Screen is the central hub for managing merchant connections within the Shopper Passport.
                            It enables shoppers to search for merchants, view their connected accounts, manage favorites, and initiate new connections via OTP verification.
                        </p>
                        <div class="grid grid-cols-4 gap-4 text-sm">
                            <div class="bg-warm-50 rounded-lg p-4">
                                <p class="font-medium text-ink mb-1">Search</p>
                                <p class="text-warm-600 text-xs">Autocomplete suggestions after 2+ characters</p>
                            </div>
                            <div class="bg-warm-50 rounded-lg p-4">
                                <p class="font-medium text-ink mb-1">Filters</p>
                                <p class="text-warm-600 text-xs">Connected, Favorites, Available tabs</p>
                            </div>
                            <div class="bg-warm-50 rounded-lg p-4">
                                <p class="font-medium text-ink mb-1">OTP Flow</p>
                                <p class="text-warm-600 text-xs">Email entry + 6-digit code verification</p>
                            </div>
                            <div class="bg-warm-50 rounded-lg p-4">
                                <p class="font-medium text-ink mb-1">Empty States</p>
                                <p class="text-warm-600 text-xs">No merchants, no favorites, no results</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- MOBILE LAYOUT: CONNECTED MERCHANTS -->
                <!-- ============================================ -->
                <section class="mb-16 mobile-variant">
                    <p class="serial text-intaglio-500 mb-4">Mobile Layout: Connected Merchants</p>
                    <p class="text-sm text-warm-600 mb-6">Default view showing connected merchants with filter tabs and bottom navigation.</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                        <div class="flex justify-center">
                            <div class="mobile-frame">
                                <!-- Fresh Thread -->
                                <div class="h-[3px] w-full thread-fresh"></div>

                                <!-- Top Nav -->
                                <div class="bg-white border-b border-warm-200 px-4 h-14 flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <div class="w-6 h-6 rounded bg-emerald-500 flex items-center justify-center">
                                            <span class="text-white text-xs font-bold">S</span>
                                        </div>
                                        <span class="font-semibold text-ink text-sm">Saltwyk</span>
                                    </div>
                                    <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center">
                                        <span class="text-indigo-700 text-xs font-semibold">JD</span>
                                    </div>
                                </div>

                                <!-- Page Content -->
                                <div class="px-4 py-5">
                                    <!-- Header -->
                                    <div class="mb-4">
                                        <h1 class="text-xl font-bold text-ink mb-1">My Merchants</h1>
                                        <p class="text-warm-600 text-sm">Connect rewards accounts to unlock buying power</p>
                                    </div>

                                    <!-- Search Bar -->
                                    <div class="mb-4 relative">
                                        <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-warm-400"></i>
                                        <input type="text" placeholder="Search merchants..." class="w-full pl-10 pr-4 py-2.5 border border-warm-200 rounded-lg text-sm focus:outline-none focus:border-indigo-500">
                                    </div>

                                    <!-- Filter Tabs -->
                                    <div class="flex gap-5 mb-4 border-b border-warm-200">
                                        <button class="filter-tab filter-tab-active">Connected</button>
                                        <button class="filter-tab flex items-center gap-1">
                                            <i data-lucide="star" class="w-3.5 h-3.5"></i>
                                            Favorites
                                        </button>
                                        <button class="filter-tab">Available</button>
                                    </div>

                                    <!-- Merchant Cards -->
                                    <div class="space-y-3">
                                        <!-- Target (Connected, High, Favorited) -->
                                        <div class="merchant-card-preview">
                                            <div class="w-10 h-10 rounded-lg overflow-hidden flex-shrink-0 bg-warm-100">
                                                <img src="https://img.logo.dev/target.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Target" class="w-full h-full object-cover">
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <div class="flex items-start justify-between gap-2 mb-0.5">
                                                    <div>
                                                        <h3 class="text-sm font-semibold text-ink">Target</h3>
                                                        <p class="text-xs text-warm-500">target.com</p>
                                                    </div>
                                                    <i data-lucide="star" class="w-4 h-4 text-orange-500 fill-orange-500"></i>
                                                </div>
                                                <div class="flex items-center gap-2 text-xs">
                                                    <div class="flex items-center gap-1 text-emerald-600">
                                                        <div class="w-1.5 h-1.5 rounded-full bg-emerald-600"></div>
                                                        <span class="font-medium">Connected</span>
                                                    </div>
                                                    <div class="battery-indicator text-emerald-600">
                                                        <div class="battery-icon" style="width:14px;height:8px;">
                                                            <div class="battery-fill high"></div>
                                                        </div>
                                                        <span>High</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Sephora (Connected, Medium) -->
                                        <div class="merchant-card-preview">
                                            <div class="w-10 h-10 rounded-lg overflow-hidden flex-shrink-0 bg-warm-100">
                                                <img src="https://img.logo.dev/sephora.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Sephora" class="w-full h-full object-cover">
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <div class="flex items-start justify-between gap-2 mb-0.5">
                                                    <div>
                                                        <h3 class="text-sm font-semibold text-ink">Sephora</h3>
                                                        <p class="text-xs text-warm-500">sephora.com</p>
                                                    </div>
                                                    <i data-lucide="star" class="w-4 h-4 text-warm-300"></i>
                                                </div>
                                                <div class="flex items-center gap-2 text-xs">
                                                    <div class="flex items-center gap-1 text-emerald-600">
                                                        <div class="w-1.5 h-1.5 rounded-full bg-emerald-600"></div>
                                                        <span class="font-medium">Connected</span>
                                                    </div>
                                                    <div class="battery-indicator text-indigo-600">
                                                        <div class="battery-icon" style="width:14px;height:8px;">
                                                            <div class="battery-fill medium"></div>
                                                        </div>
                                                        <span>Medium</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Whole Foods (Disconnected) -->
                                        <div class="merchant-card-preview" style="border-color: hsl(var(--orange-200));">
                                            <div class="w-10 h-10 rounded-lg overflow-hidden flex-shrink-0 bg-warm-100 opacity-75">
                                                <img src="https://img.logo.dev/wholefoodsmarket.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Whole Foods" class="w-full h-full object-cover">
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-sm font-semibold text-ink">Whole Foods</h3>
                                                <p class="text-xs text-warm-500 mb-1">wholefoodsmarket.com</p>
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center gap-1 text-orange-600 text-xs">
                                                        <i data-lucide="alert-triangle" class="w-3 h-3"></i>
                                                        <span class="font-medium">Reconnection Required</span>
                                                    </div>
                                                    <button class="px-2 py-1 border border-indigo-500 text-indigo-600 text-xs font-medium rounded">Reconnect</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Bottom Nav -->
                                <div class="bg-white border-t border-warm-200 h-14 flex items-center justify-around mt-4">
                                    <a href="#" class="flex flex-col items-center gap-0.5">
                                        <i data-lucide="layout-dashboard" class="w-5 h-5 text-warm-400"></i>
                                        <span class="text-[10px] font-medium text-warm-400">Dashboard</span>
                                    </a>
                                    <a href="#" class="flex flex-col items-center gap-0.5">
                                        <i data-lucide="store" class="w-5 h-5 text-indigo-600"></i>
                                        <span class="text-[10px] font-semibold text-indigo-700">Merchants</span>
                                    </a>
                                    <a href="#" class="flex flex-col items-center gap-0.5">
                                        <i data-lucide="heart" class="w-5 h-5 text-warm-400"></i>
                                        <span class="text-[10px] font-medium text-warm-400">Wishlist</span>
                                    </a>
                                    <a href="#" class="flex flex-col items-center gap-0.5">
                                        <i data-lucide="user" class="w-5 h-5 text-warm-400"></i>
                                        <span class="text-[10px] font-medium text-warm-400">Profile</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- DESKTOP LAYOUT: CONNECTED MERCHANTS -->
                <!-- ============================================ -->
                <section class="mb-16 desktop-variant">
                    <p class="serial text-intaglio-500 mb-4">Desktop Layout: Connected Merchants</p>
                    <p class="text-sm text-warm-600 mb-6">Desktop layout with horizontal top navigation and centered content area (max-width 768px).</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                        <div class="desktop-frame">
                            <!-- Fresh Thread -->
                            <div class="h-[3px] w-full thread-fresh"></div>

                            <!-- Top Nav -->
                            <div class="bg-white border-b border-warm-200">
                                <div class="max-w-5xl mx-auto px-6 h-14 flex items-center justify-between">
                                    <div class="flex items-center gap-8">
                                        <div class="flex items-center gap-2">
                                            <div class="w-6 h-6 rounded bg-emerald-500 flex items-center justify-center">
                                                <span class="text-white text-xs font-bold">S</span>
                                            </div>
                                            <span class="font-semibold text-ink">Saltwyk</span>
                                        </div>
                                        <div class="flex gap-6">
                                            <a href="#" class="text-sm font-medium text-warm-600 hover:text-ink">Dashboard</a>
                                            <a href="#" class="text-sm font-semibold text-indigo-700 border-b-2 border-indigo-500 pb-[15px]">Merchants</a>
                                            <a href="#" class="text-sm font-medium text-warm-600 hover:text-ink">Wishlist</a>
                                        </div>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center">
                                            <span class="text-indigo-700 text-sm font-semibold">JD</span>
                                        </div>
                                        <i data-lucide="chevron-down" class="w-4 h-4 text-warm-400"></i>
                                    </div>
                                </div>
                            </div>

                            <!-- Page Content -->
                            <div class="max-w-3xl mx-auto px-6 py-10">
                                <!-- Header -->
                                <div class="mb-6">
                                    <h1 class="text-2xl font-bold text-ink mb-1">My Merchants</h1>
                                    <p class="text-warm-600">Connect rewards accounts to unlock buying power</p>
                                </div>

                                <!-- Search Bar -->
                                <div class="mb-6 relative">
                                    <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400"></i>
                                    <input type="text" placeholder="Search merchants..." class="w-full pl-12 pr-4 py-3 border border-warm-200 rounded-lg focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20">
                                </div>

                                <!-- Filter Tabs -->
                                <div class="flex gap-8 mb-6 border-b border-warm-200">
                                    <button class="filter-tab filter-tab-active">Connected</button>
                                    <button class="filter-tab flex items-center gap-1.5">
                                        <i data-lucide="star" class="w-4 h-4"></i>
                                        Favorites
                                    </button>
                                    <button class="filter-tab">Available</button>
                                </div>

                                <!-- Merchant Cards -->
                                <div class="space-y-4">
                                    <!-- Target -->
                                    <div class="merchant-card-preview">
                                        <div class="w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-warm-100">
                                            <img src="https://img.logo.dev/target.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Target" class="w-full h-full object-cover">
                                        </div>
                                        <div class="flex-1 min-w-0">
                                            <div class="flex items-start justify-between gap-2 mb-1">
                                                <div>
                                                    <h3 class="text-base font-semibold text-ink">Target</h3>
                                                    <p class="text-sm text-warm-500">target.com</p>
                                                </div>
                                                <i data-lucide="star" class="w-5 h-5 text-orange-500 fill-orange-500"></i>
                                            </div>
                                            <div class="flex items-center gap-3 text-sm">
                                                <div class="flex items-center gap-1.5 text-emerald-600">
                                                    <div class="w-2 h-2 rounded-full bg-emerald-600"></div>
                                                    <span class="font-medium">Connected</span>
                                                </div>
                                                <div class="battery-indicator text-emerald-600">
                                                    <div class="battery-icon">
                                                        <div class="battery-fill high"></div>
                                                    </div>
                                                    <span>High</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Sephora -->
                                    <div class="merchant-card-preview">
                                        <div class="w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-warm-100">
                                            <img src="https://img.logo.dev/sephora.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Sephora" class="w-full h-full object-cover">
                                        </div>
                                        <div class="flex-1 min-w-0">
                                            <div class="flex items-start justify-between gap-2 mb-1">
                                                <div>
                                                    <h3 class="text-base font-semibold text-ink">Sephora</h3>
                                                    <p class="text-sm text-warm-500">sephora.com</p>
                                                </div>
                                                <i data-lucide="star" class="w-5 h-5 text-warm-300"></i>
                                            </div>
                                            <div class="flex items-center gap-3 text-sm">
                                                <div class="flex items-center gap-1.5 text-emerald-600">
                                                    <div class="w-2 h-2 rounded-full bg-emerald-600"></div>
                                                    <span class="font-medium">Connected</span>
                                                </div>
                                                <div class="battery-indicator text-indigo-600">
                                                    <div class="battery-icon">
                                                        <div class="battery-fill medium"></div>
                                                    </div>
                                                    <span>Medium</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Whole Foods (Disconnected) -->
                                    <div class="merchant-card-preview" style="border-color: hsl(var(--orange-200));">
                                        <div class="w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-warm-100 opacity-75">
                                            <img src="https://img.logo.dev/wholefoodsmarket.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Whole Foods" class="w-full h-full object-cover">
                                        </div>
                                        <div class="flex-1 min-w-0">
                                            <h3 class="text-base font-semibold text-ink">Whole Foods Market</h3>
                                            <p class="text-sm text-warm-500 mb-2">wholefoodsmarket.com</p>
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center gap-1.5 text-orange-600 text-sm">
                                                    <i data-lucide="alert-triangle" class="w-4 h-4"></i>
                                                    <span class="font-medium">Reconnection Required</span>
                                                </div>
                                                <button class="px-3 py-1.5 border-2 border-indigo-500 text-indigo-600 text-sm font-medium rounded-lg hover:bg-indigo-50 transition-colors">Reconnect</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- EMPTY STATE: NO MERCHANTS CONNECTED -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">Empty State: No Merchants Connected</p>
                    <p class="text-sm text-warm-600 mb-6">Shown when the shopper visits Merchants screen for the first time with no connections.</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                            <!-- Mobile Empty State -->
                            <div class="mobile-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Mobile (375px)</p>
                                <div class="mobile-frame">
                                    <div class="h-[3px] w-full thread-fresh"></div>
                                    <div class="bg-white border-b border-warm-200 px-4 h-14 flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <div class="w-6 h-6 rounded bg-emerald-500 flex items-center justify-center">
                                                <span class="text-white text-xs font-bold">S</span>
                                            </div>
                                            <span class="font-semibold text-ink text-sm">Saltwyk</span>
                                        </div>
                                        <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center">
                                            <span class="text-indigo-700 text-xs font-semibold">JD</span>
                                        </div>
                                    </div>
                                    <div class="px-4 py-5">
                                        <div class="mb-4">
                                            <h1 class="text-xl font-bold text-ink mb-1">My Merchants</h1>
                                            <p class="text-warm-600 text-sm">Connect rewards accounts to unlock buying power</p>
                                        </div>
                                        <div class="mb-4 relative">
                                            <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-warm-400"></i>
                                            <input type="text" placeholder="Search merchants..." class="w-full pl-10 pr-4 py-2.5 border border-warm-200 rounded-lg text-sm">
                                        </div>
                                        <div class="flex gap-5 mb-4 border-b border-warm-200">
                                            <button class="filter-tab filter-tab-active">Connected</button>
                                            <button class="filter-tab">Favorites</button>
                                            <button class="filter-tab">Available</button>
                                        </div>
                                        <!-- Empty State -->
                                        <div class="flex flex-col items-center justify-center py-8 px-4 text-center">
                                            <div class="w-14 h-14 rounded-full bg-warm-100 flex items-center justify-center mb-3">
                                                <i data-lucide="link" class="w-7 h-7 text-warm-400"></i>
                                            </div>
                                            <h3 class="text-base font-semibold text-ink mb-1">No connected merchants yet</h3>
                                            <p class="text-warm-600 text-sm mb-4">Connect your first rewards account to start shopping with points</p>
                                            <button class="px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white text-sm font-semibold rounded-lg">
                                                Connect Your First Merchant
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Desktop Empty State -->
                            <div class="desktop-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Desktop</p>
                                <div class="desktop-frame" style="min-height: 400px;">
                                    <div class="h-[3px] w-full thread-fresh"></div>
                                    <div class="bg-white border-b border-warm-200 px-6 h-14 flex items-center justify-between">
                                        <div class="flex items-center gap-6">
                                            <div class="flex items-center gap-2">
                                                <div class="w-6 h-6 rounded bg-emerald-500 flex items-center justify-center">
                                                    <span class="text-white text-xs font-bold">S</span>
                                                </div>
                                                <span class="font-semibold text-ink">Saltwyk</span>
                                            </div>
                                            <div class="flex gap-5">
                                                <span class="text-sm font-medium text-warm-600">Dashboard</span>
                                                <span class="text-sm font-semibold text-indigo-700 border-b-2 border-indigo-500 pb-[15px]">Merchants</span>
                                                <span class="text-sm font-medium text-warm-600">Wishlist</span>
                                            </div>
                                        </div>
                                        <div class="w-8 h-8 rounded-full bg-indigo-100"></div>
                                    </div>
                                    <div class="max-w-lg mx-auto px-6 py-8">
                                        <div class="mb-5">
                                            <h1 class="text-xl font-bold text-ink mb-1">My Merchants</h1>
                                            <p class="text-warm-600 text-sm">Connect rewards accounts to unlock buying power</p>
                                        </div>
                                        <div class="mb-5 relative">
                                            <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-warm-400"></i>
                                            <input type="text" placeholder="Search merchants..." class="w-full pl-10 pr-4 py-2.5 border border-warm-200 rounded-lg text-sm">
                                        </div>
                                        <div class="flex gap-6 mb-5 border-b border-warm-200">
                                            <button class="filter-tab filter-tab-active">Connected</button>
                                            <button class="filter-tab">Favorites</button>
                                            <button class="filter-tab">Available</button>
                                        </div>
                                        <!-- Empty State -->
                                        <div class="flex flex-col items-center justify-center py-10 text-center">
                                            <div class="w-16 h-16 rounded-full bg-warm-100 flex items-center justify-center mb-4">
                                                <i data-lucide="link" class="w-8 h-8 text-warm-400"></i>
                                            </div>
                                            <h3 class="text-lg font-semibold text-ink mb-2">No connected merchants yet</h3>
                                            <p class="text-warm-600 mb-6 max-w-sm">Connect your first rewards account to start shopping with points</p>
                                            <button class="px-5 py-2.5 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-lg">
                                                Connect Your First Merchant
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        <div class="mt-4 bg-indigo-50 rounded-lg p-4">
                            <p class="text-sm text-indigo-800"><strong>CTA Behavior:</strong> Clicking "Connect Your First Merchant" focuses the search input and switches to the "Available" tab, allowing shoppers to search for merchants to connect.</p>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- SEARCH WITH AUTOCOMPLETE -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">Search with Autocomplete</p>
                    <p class="text-sm text-warm-600 mb-6">Autocomplete suggestions appear after typing 2+ characters. Shows merchant name, domain, and connection status.</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                            <!-- Mobile Search -->
                            <div class="mobile-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Mobile - Typing "tar"</p>
                                <div class="mobile-frame" style="min-height: 320px;">
                                    <div class="h-[3px] w-full thread-fresh"></div>
                                    <div class="bg-white border-b border-warm-200 px-4 h-14 flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <div class="w-6 h-6 rounded bg-emerald-500 flex items-center justify-center">
                                                <span class="text-white text-xs font-bold">S</span>
                                            </div>
                                            <span class="font-semibold text-ink text-sm">Saltwyk</span>
                                        </div>
                                        <div class="w-8 h-8 rounded-full bg-indigo-100"></div>
                                    </div>
                                    <div class="px-4 py-5">
                                        <div class="mb-4">
                                            <h1 class="text-xl font-bold text-ink mb-1">My Merchants</h1>
                                        </div>
                                        <!-- Search with Autocomplete -->
                                        <div class="relative">
                                            <div class="relative">
                                                <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-warm-400"></i>
                                                <input type="text" value="tar" class="w-full pl-10 pr-4 py-2.5 border-2 border-indigo-500 ring-2 ring-indigo-500/20 rounded-lg text-sm">
                                            </div>
                                            <!-- Autocomplete Dropdown -->
                                            <div class="autocomplete-dropdown py-1">
                                                <div class="autocomplete-item">
                                                    <div class="w-8 h-8 rounded bg-warm-100 overflow-hidden">
                                                        <img src="https://img.logo.dev/target.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Target" class="w-full h-full object-cover">
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="text-sm font-medium text-ink">Target</div>
                                                        <div class="text-xs text-warm-500">target.com</div>
                                                    </div>
                                                    <i data-lucide="check" class="w-4 h-4 text-emerald-600"></i>
                                                </div>
                                                <div class="autocomplete-item">
                                                    <div class="w-8 h-8 rounded bg-warm-200 flex items-center justify-center">
                                                        <span class="text-xs font-semibold text-warm-600">TC</span>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="text-sm font-medium text-ink">Tarte Cosmetics</div>
                                                        <div class="text-xs text-warm-500">tartecosmetics.com</div>
                                                    </div>
                                                    <span class="text-xs text-warm-500">Available</span>
                                                </div>
                                                <div class="autocomplete-item">
                                                    <div class="w-8 h-8 rounded bg-warm-200 flex items-center justify-center">
                                                        <span class="text-xs font-semibold text-warm-600">TB</span>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="text-sm font-medium text-ink">Tory Burch</div>
                                                        <div class="text-xs text-warm-500">toryburch.com</div>
                                                    </div>
                                                    <span class="text-xs text-warm-500">Available</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Desktop Search -->
                            <div class="desktop-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Desktop - Typing "tar"</p>
                                <div class="desktop-frame" style="min-height: 320px;">
                                    <div class="h-[3px] w-full thread-fresh"></div>
                                    <div class="bg-white border-b border-warm-200 px-6 h-14 flex items-center justify-between">
                                        <div class="flex items-center gap-6">
                                            <div class="flex items-center gap-2">
                                                <div class="w-6 h-6 rounded bg-emerald-500 flex items-center justify-center">
                                                    <span class="text-white text-xs font-bold">S</span>
                                                </div>
                                                <span class="font-semibold text-ink">Saltwyk</span>
                                            </div>
                                            <div class="flex gap-5">
                                                <span class="text-sm font-medium text-warm-600">Dashboard</span>
                                                <span class="text-sm font-semibold text-indigo-700 border-b-2 border-indigo-500 pb-[15px]">Merchants</span>
                                                <span class="text-sm font-medium text-warm-600">Wishlist</span>
                                            </div>
                                        </div>
                                        <div class="w-8 h-8 rounded-full bg-indigo-100"></div>
                                    </div>
                                    <div class="max-w-lg mx-auto px-6 py-8">
                                        <div class="mb-5">
                                            <h1 class="text-xl font-bold text-ink mb-1">My Merchants</h1>
                                        </div>
                                        <!-- Search with Autocomplete -->
                                        <div class="relative">
                                            <div class="relative">
                                                <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400"></i>
                                                <input type="text" value="tar" class="w-full pl-12 pr-4 py-3 border-2 border-indigo-500 ring-2 ring-indigo-500/20 rounded-lg">
                                            </div>
                                            <!-- Autocomplete Dropdown -->
                                            <div class="autocomplete-dropdown py-2">
                                                <div class="autocomplete-item">
                                                    <div class="w-10 h-10 rounded-lg bg-warm-100 overflow-hidden">
                                                        <img src="https://img.logo.dev/target.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Target" class="w-full h-full object-cover">
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium text-ink">Target</div>
                                                        <div class="text-sm text-warm-500">target.com</div>
                                                    </div>
                                                    <i data-lucide="check" class="w-5 h-5 text-emerald-600"></i>
                                                </div>
                                                <div class="autocomplete-item">
                                                    <div class="w-10 h-10 rounded-lg bg-warm-200 flex items-center justify-center">
                                                        <span class="text-sm font-semibold text-warm-600">TC</span>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium text-ink">Tarte Cosmetics</div>
                                                        <div class="text-sm text-warm-500">tartecosmetics.com</div>
                                                    </div>
                                                    <span class="text-sm text-warm-500">Available</span>
                                                </div>
                                                <div class="autocomplete-item">
                                                    <div class="w-10 h-10 rounded-lg bg-warm-200 flex items-center justify-center">
                                                        <span class="text-sm font-semibold text-warm-600">TB</span>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium text-ink">Tory Burch</div>
                                                        <div class="text-sm text-warm-500">toryburch.com</div>
                                                    </div>
                                                    <span class="text-sm text-warm-500">Available</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        <div class="mt-4 grid grid-cols-3 gap-4 text-sm">
                            <div class="bg-warm-50 rounded-lg p-3">
                                <p class="font-medium text-ink mb-1">Trigger</p>
                                <p class="text-warm-600 text-xs">Shows after 2+ characters typed</p>
                            </div>
                            <div class="bg-warm-50 rounded-lg p-3">
                                <p class="font-medium text-ink mb-1">Max Results</p>
                                <p class="text-warm-600 text-xs">5 suggestions maximum</p>
                            </div>
                            <div class="bg-warm-50 rounded-lg p-3">
                                <p class="font-medium text-ink mb-1">Status Indicators</p>
                                <p class="text-warm-600 text-xs">Checkmark (connected) or "Available" text</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- NO SEARCH RESULTS -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">No Search Results</p>
                    <p class="text-sm text-warm-600 mb-6">Shown when a search query returns no matching merchants.</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                            <!-- Mobile No Results -->
                            <div class="mobile-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Mobile</p>
                                <div class="mobile-frame">
                                    <div class="h-[3px] w-full thread-fresh"></div>
                                    <div class="bg-white border-b border-warm-200 px-4 h-14 flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <div class="w-6 h-6 rounded bg-emerald-500 flex items-center justify-center">
                                                <span class="text-white text-xs font-bold">S</span>
                                            </div>
                                            <span class="font-semibold text-ink text-sm">Saltwyk</span>
                                        </div>
                                        <div class="w-8 h-8 rounded-full bg-indigo-100"></div>
                                    </div>
                                    <div class="px-4 py-5">
                                        <div class="mb-4">
                                            <h1 class="text-xl font-bold text-ink mb-1">My Merchants</h1>
                                        </div>
                                        <!-- Search with query -->
                                        <div class="mb-4 relative">
                                            <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-warm-400"></i>
                                            <input type="text" value="xyzstore123" class="w-full pl-10 pr-4 py-2.5 border border-warm-200 rounded-lg text-sm">
                                        </div>
                                        <!-- Empty State -->
                                        <div class="flex flex-col items-center justify-center py-8 px-4 text-center">
                                            <div class="w-14 h-14 rounded-full bg-warm-100 flex items-center justify-center mb-3">
                                                <i data-lucide="search" class="w-7 h-7 text-warm-400"></i>
                                            </div>
                                            <h3 class="text-base font-semibold text-ink mb-1">No merchants found</h3>
                                            <p class="text-warm-600 text-sm mb-4">We couldn't find any merchants matching "xyzstore123". Try a different name or domain.</p>
                                            <button class="px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white text-sm font-semibold rounded-lg">
                                                Clear Search
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Desktop No Results -->
                            <div class="desktop-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Desktop</p>
                                <div class="desktop-frame">
                                    <div class="h-[3px] w-full thread-fresh"></div>
                                    <div class="bg-white border-b border-warm-200 px-6 h-14 flex items-center justify-between">
                                        <div class="flex items-center gap-6">
                                            <div class="flex items-center gap-2">
                                                <div class="w-6 h-6 rounded bg-emerald-500 flex items-center justify-center">
                                                    <span class="text-white text-xs font-bold">S</span>
                                                </div>
                                                <span class="font-semibold text-ink">Saltwyk</span>
                                            </div>
                                            <div class="flex gap-5">
                                                <span class="text-sm font-medium text-warm-600">Dashboard</span>
                                                <span class="text-sm font-semibold text-indigo-700 border-b-2 border-indigo-500 pb-[15px]">Merchants</span>
                                                <span class="text-sm font-medium text-warm-600">Wishlist</span>
                                            </div>
                                        </div>
                                        <div class="w-8 h-8 rounded-full bg-indigo-100"></div>
                                    </div>
                                    <div class="max-w-lg mx-auto px-6 py-8">
                                        <div class="mb-5">
                                            <h1 class="text-xl font-bold text-ink mb-1">My Merchants</h1>
                                        </div>
                                        <!-- Search with query -->
                                        <div class="mb-5 relative">
                                            <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-400"></i>
                                            <input type="text" value="xyzstore123" class="w-full pl-12 pr-4 py-3 border border-warm-200 rounded-lg">
                                        </div>
                                        <!-- Empty State -->
                                        <div class="flex flex-col items-center justify-center py-10 text-center">
                                            <div class="w-16 h-16 rounded-full bg-warm-100 flex items-center justify-center mb-4">
                                                <i data-lucide="search" class="w-8 h-8 text-warm-400"></i>
                                            </div>
                                            <h3 class="text-lg font-semibold text-ink mb-2">No merchants found</h3>
                                            <p class="text-warm-600 mb-6 max-w-sm">We couldn't find any merchants matching "xyzstore123". Try a different name or domain.</p>
                                            <button class="px-5 py-2.5 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-lg">
                                                Clear Search
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- OTP FLOW: EMAIL ENTRY -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">OTP Flow: Email Entry</p>
                    <p class="text-sm text-warm-600 mb-6">Step 1 of the connection flow. Triggered by tapping "Connect Account" or "Reconnect" on a merchant card.</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                            <!-- Mobile Bottom Sheet -->
                            <div class="mobile-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Mobile - Bottom Sheet</p>
                                <div class="mobile-frame relative" style="min-height: 480px;">
                                    <!-- Background (dimmed) -->
                                    <div class="absolute inset-0 bg-black/40"></div>

                                    <!-- Bottom Sheet -->
                                    <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl">
                                        <!-- Drag Handle -->
                                        <div class="flex justify-center pt-3 pb-2">
                                            <div class="w-8 h-1 bg-warm-300 rounded-full"></div>
                                        </div>

                                        <!-- Content -->
                                        <div class="px-5 pb-6">
                                            <!-- Merchant Logo -->
                                            <div class="flex justify-center mb-4">
                                                <div class="w-14 h-14 rounded-xl bg-warm-100 overflow-hidden">
                                                    <img src="https://img.logo.dev/nordstrom.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Nordstrom" class="w-full h-full object-cover">
                                                </div>
                                            </div>

                                            <!-- Heading -->
                                            <h2 class="text-lg font-semibold text-ink text-center mb-1">
                                                Connect Your Nordstrom Rewards
                                            </h2>
                                            <p class="text-warm-600 text-sm text-center mb-5">
                                                Enter the email for your rewards account
                                            </p>

                                            <!-- Email Input -->
                                            <div class="mb-3">
                                                <label class="block text-sm font-medium text-ink mb-1.5">Email Address</label>
                                                <input type="email" placeholder="you@example.com" class="w-full px-3 py-2.5 border border-warm-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20">
                                            </div>

                                            <!-- Helper Text -->
                                            <p class="text-xs text-warm-500 mb-5">
                                                We'll send a verification code to confirm your account
                                            </p>

                                            <!-- Actions -->
                                            <div class="flex gap-3">
                                                <button class="flex-1 px-4 py-2.5 border border-warm-200 text-ink font-medium rounded-lg text-sm hover:bg-warm-50">
                                                    Cancel
                                                </button>
                                                <button class="flex-1 px-4 py-2.5 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-lg text-sm">
                                                    Send Code
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Desktop Modal -->
                            <div class="desktop-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Desktop - Modal</p>
                                <div class="desktop-frame relative" style="min-height: 480px;">
                                    <!-- Background (dimmed) -->
                                    <div class="absolute inset-0 bg-black/40 flex items-center justify-center">
                                        <!-- Modal -->
                                        <div class="bg-white rounded-xl shadow-xl w-full max-w-sm mx-4 relative">
                                            <!-- Close Button -->
                                            <button class="absolute top-4 right-4 text-warm-400 hover:text-ink">
                                                <i data-lucide="x" class="w-5 h-5"></i>
                                            </button>

                                            <!-- Content -->
                                            <div class="p-6">
                                                <!-- Merchant Logo -->
                                                <div class="flex justify-center mb-4">
                                                    <div class="w-16 h-16 rounded-xl bg-warm-100 overflow-hidden">
                                                        <img src="https://img.logo.dev/nordstrom.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Nordstrom" class="w-full h-full object-cover">
                                                    </div>
                                                </div>

                                                <!-- Heading -->
                                                <h2 class="text-xl font-semibold text-ink text-center mb-2">
                                                    Connect Your Nordstrom Rewards
                                                </h2>
                                                <p class="text-warm-600 text-center mb-6">
                                                    Enter the email for your rewards account
                                                </p>

                                                <!-- Email Input -->
                                                <div class="mb-4">
                                                    <label class="block text-sm font-medium text-ink mb-2">Email Address</label>
                                                    <input type="email" placeholder="you@example.com" class="w-full px-4 py-3 border border-warm-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20">
                                                </div>

                                                <!-- Helper Text -->
                                                <p class="text-sm text-warm-500 mb-6">
                                                    We'll send a verification code to confirm your account
                                                </p>

                                                <!-- Actions -->
                                                <div class="flex gap-3">
                                                    <button class="flex-1 px-4 py-3 border border-warm-200 text-ink font-medium rounded-lg hover:bg-warm-50">
                                                        Cancel
                                                    </button>
                                                    <button class="flex-1 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-lg">
                                                        Send Code
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        <div class="mt-4 bg-warm-50 rounded-lg p-4">
                            <p class="text-sm text-warm-700"><strong>Validation:</strong> Email format is checked on blur. Error state shows border-magenta-500 with error text below input. "Send Code" button is disabled until a valid email is entered.</p>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- OTP FLOW: CODE VERIFICATION -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">OTP Flow: Code Verification</p>
                    <p class="text-sm text-warm-600 mb-6">Step 2 of the connection flow. User enters the 6-digit code sent to their email.</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                            <!-- Mobile Bottom Sheet -->
                            <div class="mobile-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Mobile - Code Entry</p>
                                <div class="mobile-frame relative" style="min-height: 420px;">
                                    <!-- Background (dimmed) -->
                                    <div class="absolute inset-0 bg-black/40"></div>

                                    <!-- Bottom Sheet -->
                                    <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl">
                                        <!-- Drag Handle -->
                                        <div class="flex justify-center pt-3 pb-2">
                                            <div class="w-8 h-1 bg-warm-300 rounded-full"></div>
                                        </div>

                                        <!-- Content -->
                                        <div class="px-5 pb-6">
                                            <!-- Heading -->
                                            <h2 class="text-lg font-semibold text-ink text-center mb-1">
                                                Check your email
                                            </h2>
                                            <p class="text-warm-600 text-sm text-center mb-5">
                                                We sent a 6-digit code to<br>
                                                <span class="font-medium text-ink">jane@example.com</span>
                                            </p>

                                            <!-- OTP Inputs -->
                                            <div class="flex gap-2 justify-center mb-4">
                                                <input type="text" maxlength="1" class="otp-input" style="width:40px;height:48px;font-size:20px;" value="4">
                                                <input type="text" maxlength="1" class="otp-input" style="width:40px;height:48px;font-size:20px;" value="7">
                                                <input type="text" maxlength="1" class="otp-input" style="width:40px;height:48px;font-size:20px;" value="2">
                                                <input type="text" maxlength="1" class="otp-input" style="width:40px;height:48px;font-size:20px;">
                                                <input type="text" maxlength="1" class="otp-input" style="width:40px;height:48px;font-size:20px;">
                                                <input type="text" maxlength="1" class="otp-input" style="width:40px;height:48px;font-size:20px;">
                                            </div>

                                            <!-- Resend Link -->
                                            <div class="text-center mb-5">
                                                <button class="text-sm text-indigo-600 hover:text-indigo-700 font-medium">
                                                    Didn't receive it? Resend Code
                                                </button>
                                            </div>

                                            <!-- Cancel -->
                                            <button class="w-full px-4 py-2.5 border border-warm-200 text-ink font-medium rounded-lg text-sm hover:bg-warm-50">
                                                Cancel
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Desktop Modal -->
                            <div class="desktop-variant">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Desktop - Code Entry</p>
                                <div class="desktop-frame relative" style="min-height: 420px;">
                                    <!-- Background (dimmed) -->
                                    <div class="absolute inset-0 bg-black/40 flex items-center justify-center">
                                        <!-- Modal -->
                                        <div class="bg-white rounded-xl shadow-xl w-full max-w-sm mx-4 relative">
                                            <!-- Close Button -->
                                            <button class="absolute top-4 right-4 text-warm-400 hover:text-ink">
                                                <i data-lucide="x" class="w-5 h-5"></i>
                                            </button>

                                            <!-- Content -->
                                            <div class="p-6">
                                                <!-- Heading -->
                                                <h2 class="text-xl font-semibold text-ink text-center mb-2">
                                                    Check your email
                                                </h2>
                                                <p class="text-warm-600 text-center mb-6">
                                                    We sent a 6-digit code to<br>
                                                    <span class="font-medium text-ink">jane@example.com</span>
                                                </p>

                                                <!-- OTP Inputs -->
                                                <div class="flex gap-2 justify-center mb-4">
                                                    <input type="text" maxlength="1" class="otp-input" value="4">
                                                    <input type="text" maxlength="1" class="otp-input" value="7">
                                                    <input type="text" maxlength="1" class="otp-input" value="2">
                                                    <input type="text" maxlength="1" class="otp-input">
                                                    <input type="text" maxlength="1" class="otp-input">
                                                    <input type="text" maxlength="1" class="otp-input">
                                                </div>

                                                <!-- Resend Link -->
                                                <div class="text-center mb-6">
                                                    <button class="text-sm text-indigo-600 hover:text-indigo-700 font-medium">
                                                        Didn't receive it? Resend Code
                                                    </button>
                                                </div>

                                                <!-- Cancel -->
                                                <button class="w-full px-4 py-3 border border-warm-200 text-ink font-medium rounded-lg hover:bg-warm-50">
                                                    Cancel
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        <!-- OTP Input States -->
                        <div class="mt-6 pt-6 border-t border-warm-200">
                            <p class="text-sm font-medium text-ink mb-4">OTP Input States</p>
                            <div class="grid grid-cols-4 gap-4">
                                <div class="text-center">
                                    <input type="text" maxlength="1" class="otp-input mb-2" readonly>
                                    <p class="text-xs text-warm-500">Default</p>
                                </div>
                                <div class="text-center">
                                    <input type="text" maxlength="1" class="otp-input mb-2" style="border-color: hsl(var(--emerald-500)); box-shadow: 0 0 0 3px hsla(var(--emerald-500) / 0.2);" readonly>
                                    <p class="text-xs text-warm-500">Focus</p>
                                </div>
                                <div class="text-center">
                                    <input type="text" maxlength="1" class="otp-input otp-input-filled mb-2" value="7" readonly>
                                    <p class="text-xs text-warm-500">Filled</p>
                                </div>
                                <div class="text-center">
                                    <input type="text" maxlength="1" class="otp-input otp-input-error mb-2" value="X" readonly>
                                    <p class="text-xs text-warm-500">Error</p>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 grid grid-cols-2 gap-4 text-sm">
                            <div class="bg-warm-50 rounded-lg p-3">
                                <p class="font-medium text-ink mb-1">Auto-advance</p>
                                <p class="text-warm-600 text-xs">Cursor moves to next box after each digit</p>
                            </div>
                            <div class="bg-warm-50 rounded-lg p-3">
                                <p class="font-medium text-ink mb-1">Resend Cooldown</p>
                                <p class="text-warm-600 text-xs">30 second countdown before resend is active</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- SUCCESS STATE -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">Success State</p>
                    <p class="text-sm text-warm-600 mb-6">After successful OTP verification, the sheet/modal dismisses and a success toast appears.</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                        <div class="flex items-center gap-6">
                            <!-- Success Toast Example -->
                            <div class="flex-1">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Success Toast</p>
                                <div class="bg-ledger rounded-lg p-6 flex justify-end">
                                    <div class="toast-success" style="position: relative; top: 0; right: 0;">
                                        <div class="w-5 h-5 rounded-full bg-emerald-100 flex items-center justify-center">
                                            <i data-lucide="check" class="w-3 h-3 text-emerald-600"></i>
                                        </div>
                                        <span class="font-medium text-ink">Nordstrom connected!</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Card Update -->
                            <div class="flex-1">
                                <p class="text-xs text-warm-500 mb-3 font-medium">Card Updates to Connected</p>
                                <div class="bg-ledger rounded-lg p-4">
                                    <div class="merchant-card-preview">
                                        <div class="w-10 h-10 rounded-lg overflow-hidden flex-shrink-0 bg-warm-100">
                                            <img src="https://img.logo.dev/nordstrom.com?token=pk_bkuG9bxiQ1GlCl3EL_zGfQ" alt="Nordstrom" class="w-full h-full object-cover">
                                        </div>
                                        <div class="flex-1 min-w-0">
                                            <div class="flex items-start justify-between gap-2 mb-0.5">
                                                <div>
                                                    <h3 class="text-sm font-semibold text-ink">Nordstrom</h3>
                                                    <p class="text-xs text-warm-500">nordstrom.com</p>
                                                </div>
                                                <i data-lucide="star" class="w-4 h-4 text-warm-300"></i>
                                            </div>
                                            <div class="flex items-center gap-2 text-xs">
                                                <div class="flex items-center gap-1 text-emerald-600">
                                                    <div class="w-1.5 h-1.5 rounded-full bg-emerald-600"></div>
                                                    <span class="font-medium">Connected</span>
                                                </div>
                                                <span class="text-warm-500">Calculating buying power...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 bg-emerald-50 rounded-lg p-4">
                            <p class="text-sm text-emerald-800"><strong>After Success:</strong> Sheet/modal dismisses. Toast appears for 3 seconds. Merchant card updates to connected variant. Buying power is calculated in background and displayed once ready.</p>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- TECHNICAL SPECIFICATIONS -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">Technical Specifications</p>

                    <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                        <div class="grid grid-cols-2 gap-8">
                            <!-- Layout -->
                            <div>
                                <p class="font-medium text-ink mb-4">Layout</p>
                                <div class="space-y-3 text-sm">
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Mobile width</span>
                                        <code>375px</code>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Desktop content max-width</span>
                                        <code>max-w-3xl (768px)</code>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Top nav height</span>
                                        <code>h-14 (56px)</code>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Bottom nav height</span>
                                        <code>h-14 (56px)</code>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Thread height</span>
                                        <code>3px</code>
                                    </div>
                                    <div class="flex justify-between py-2">
                                        <span class="text-warm-600">Modal width</span>
                                        <code>max-w-sm (384px)</code>
                                    </div>
                                </div>
                            </div>

                            <!-- Colors -->
                            <div>
                                <p class="font-medium text-ink mb-4">Colors</p>
                                <div class="space-y-3 text-sm">
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Thread gradient</span>
                                        <code>Fresh (cyan → lime)</code>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Active nav/tab</span>
                                        <code>indigo-700 + indigo-500 border</code>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Primary CTA</span>
                                        <code>emerald-500</code>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">OTP focus ring</span>
                                        <code>emerald-500</code>
                                    </div>
                                    <div class="flex justify-between py-2 border-b border-warm-100">
                                        <span class="text-warm-600">Success toast</span>
                                        <code>emerald border + icon</code>
                                    </div>
                                    <div class="flex justify-between py-2">
                                        <span class="text-warm-600">Error states</span>
                                        <code>magenta-500</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- USAGE GUIDELINES -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">Usage Guidelines</p>

                    <div class="grid grid-cols-2 gap-6">
                        <!-- Do -->
                        <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                            <div class="flex items-center gap-2 mb-4">
                                <div class="w-6 h-6 rounded-full bg-emerald-100 flex items-center justify-center">
                                    <i data-lucide="check" class="w-4 h-4 text-emerald-600"></i>
                                </div>
                                <p class="font-medium text-ink">Do</p>
                            </div>
                            <ul class="space-y-2 text-sm text-warm-600">
                                <li class="flex gap-2">
                                    <span class="text-emerald-500">•</span>
                                    Show Fresh thread (cyan → lime) on this screen
                                </li>
                                <li class="flex gap-2">
                                    <span class="text-emerald-500">•</span>
                                    Use indigo for active navigation states
                                </li>
                                <li class="flex gap-2">
                                    <span class="text-emerald-500">•</span>
                                    Show autocomplete after 2+ characters
                                </li>
                                <li class="flex gap-2">
                                    <span class="text-emerald-500">•</span>
                                    Use bottom sheet on mobile, modal on desktop
                                </li>
                                <li class="flex gap-2">
                                    <span class="text-emerald-500">•</span>
                                    Show buying power on connected merchants only
                                </li>
                            </ul>
                        </div>

                        <!-- Don't -->
                        <div class="bg-white border-2 border-warm-200 rounded-lg p-6">
                            <div class="flex items-center gap-2 mb-4">
                                <div class="w-6 h-6 rounded-full bg-magenta-100 flex items-center justify-center">
                                    <i data-lucide="x" class="w-4 h-4 text-magenta-600"></i>
                                </div>
                                <p class="font-medium text-ink">Don't</p>
                            </div>
                            <ul class="space-y-2 text-sm text-warm-600">
                                <li class="flex gap-2">
                                    <span class="text-magenta-500">•</span>
                                    Show categories (search by name/domain only)
                                </li>
                                <li class="flex gap-2">
                                    <span class="text-magenta-500">•</span>
                                    Make disconnected cards clickable for history
                                </li>
                                <li class="flex gap-2">
                                    <span class="text-magenta-500">•</span>
                                    Show toast for favorite toggle (visual only)
                                </li>
                                <li class="flex gap-2">
                                    <span class="text-magenta-500">•</span>
                                    Use emerald for navigation (use indigo)
                                </li>
                                <li class="flex gap-2">
                                    <span class="text-magenta-500">•</span>
                                    Show exact point balances (use tiers only)
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- ============================================ -->
                <!-- RELATED COMPONENTS -->
                <!-- ============================================ -->
                <section class="mb-16">
                    <p class="serial text-intaglio-500 mb-4">Related Components</p>

                    <div class="flex gap-3 flex-wrap">
                        <a href="empty-state.html" class="bg-white border-2 border-warm-200 rounded-lg px-4 py-3 text-sm hover:border-indigo-300 transition-colors">
                            <span class="font-medium">Empty State</span>
                            <span class="text-warm-400 ml-2">→</span>
                        </a>
                        <a href="merchant-card.html" class="bg-white border-2 border-warm-200 rounded-lg px-4 py-3 text-sm hover:border-indigo-300 transition-colors">
                            <span class="font-medium">Merchant Card</span>
                            <span class="text-warm-400 ml-2">→</span>
                        </a>
                        <a href="/core/components/history-card.html" class="bg-white border-2 border-warm-200 rounded-lg px-4 py-3 text-sm hover:border-indigo-300 transition-colors">
                            <span class="font-medium">History Card</span>
                            <span class="text-warm-400 ml-2">→</span>
                        </a>
                        <a href="../screens/passport/wishlist.html" class="bg-white border-2 border-warm-200 rounded-lg px-4 py-3 text-sm hover:border-indigo-300 transition-colors">
                            <span class="font-medium">Wishlist Screen</span>
                            <span class="text-warm-400 ml-2">→</span>
                        </a>
                    </div>
                </section>

            </div>

            <!-- Footer -->
            <footer class="bg-white border-t-2 border-warm-200 mt-16">
                <div class="max-w-6xl mx-auto px-8 py-6 flex items-center justify-between text-sm text-warm-500">
                    <div class="flex items-center gap-3">
                        <a href="../../../index.html" class="hover:text-emerald-600">Home</a>
                        <span class="text-warm-300">·</span>
                        <a href="../../../sitemap.html" class="hover:text-emerald-600">Sitemap</a>
                    </div>
                    <p>Saltwyk Design System v0.6.0</p>
                </div>
            </footer>
        </main>
    </div>

    <script>lucide.createIcons();</script>
    <script src="/partials/nav-loader.js"></script>
    <script src="/partials/view-toggle.js"></script>
</body>
</html>
